<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Libgatey : Visualize and control C++ data using the web browser. Single hpp/cpp, no dependencies, OS X, Windows, Linux.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Libgatey</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tneukom/libgateY">View on GitHub</a>

          <h1 id="project_title">Libgatey</h1>
          <h2 id="project_tagline">Visualize and control C++ data using the web browser. Single hpp/cpp, no dependencies, OS X, Windows, Linux.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/tneukom/libgateY/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/tneukom/libgateY/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="libgatey" class="anchor" href="#libgatey"><span class="octicon octicon-link"></span></a>libgateY</h1>

<p>Visualize and control C++ data using the web browser. Single hpp/cpp, no dependencies, OS X, Windows, Linux.</p>

<p>Simple example:</p>

<div class="highlight highlight-c++"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="n">gatey</span><span class="o">::</span><span class="n">global</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">gatey</span><span class="o">::</span><span class="n">GateY</span><span class="o">&gt;</span><span class="p">();</span>

    <span class="n">SDL_Init</span><span class="p">(</span><span class="n">SDL_INIT_EVERYTHING</span><span class="p">);</span>
    <span class="k">auto</span> <span class="n">win</span> <span class="o">=</span> <span class="n">SDL_CreateWindow</span><span class="p">(</span><span class="s">"Spaceship"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">SDL_WINDOW_SHOWN</span><span class="p">);</span>
    <span class="k">auto</span> <span class="n">renderer</span> <span class="o">=</span> <span class="n">SDL_CreateRenderer</span><span class="p">(</span><span class="n">win</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">SDL_RENDERER_ACCELERATED</span><span class="p">);</span>

    <span class="n">Vec2</span> <span class="n">position</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="n">velocity</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">gatey</span><span class="o">::</span><span class="n">WriteVariable</span><span class="o">&lt;</span><span class="n">Vec2</span><span class="o">&gt;</span> <span class="n">gPosition</span><span class="p">(</span><span class="s">"position"</span><span class="p">),</span> <span class="n">gVelocity</span><span class="p">(</span><span class="s">"velocity"</span><span class="p">);</span>
    <span class="n">gatey</span><span class="o">::</span><span class="n">ReadVariable</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">gPower</span><span class="p">(</span><span class="s">"power"</span><span class="p">,</span> <span class="mf">20.0f</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">1.0f</span> <span class="o">/</span> <span class="mi">30</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Vec2</span> <span class="n">acceleration</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">Uint8</span> <span class="k">const</span><span class="o">*</span> <span class="n">keyboard</span> <span class="o">=</span> <span class="n">SDL_GetKeyboardState</span><span class="p">(</span><span class="k">nullptr</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">keyboard</span><span class="p">[</span><span class="n">SDL_SCANCODE_LEFT</span><span class="p">])</span> <span class="n">acceleration</span> <span class="o">+=</span> <span class="n">Vec2</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">keyboard</span><span class="p">[</span><span class="n">SDL_SCANCODE_RIGHT</span><span class="p">])</span> <span class="n">acceleration</span> <span class="o">+=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">keyboard</span><span class="p">[</span><span class="n">SDL_SCANCODE_UP</span><span class="p">])</span> <span class="n">acceleration</span> <span class="o">+=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">keyboard</span><span class="p">[</span><span class="n">SDL_SCANCODE_DOWN</span><span class="p">])</span> <span class="n">acceleration</span> <span class="o">+=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

        <span class="n">velocity</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">gPower</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">*</span> <span class="n">acceleration</span><span class="p">;</span>
        <span class="n">position</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">velocity</span><span class="p">;</span>

        <span class="n">gVelocity</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">velocity</span><span class="p">);</span>
        <span class="n">gPosition</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">position</span><span class="p">);</span>

        <span class="n">SDL_RenderClear</span><span class="p">(</span><span class="n">renderer</span><span class="p">);</span>

        <span class="n">SDL_Rect</span> <span class="n">rect</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">position</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">position</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span> <span class="p">};</span>
        <span class="n">SDL_RenderFillRect</span><span class="p">(</span><span class="n">renderer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">rect</span><span class="p">);</span>

        <span class="n">SDL_RenderPresent</span><span class="p">(</span><span class="n">renderer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>JavaScript</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">gPosition</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">gatey</span><span class="p">.</span><span class="nx">ReadVariable</span><span class="p">(</span><span class="s1">'position'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">gVelocity</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">gatey</span><span class="p">.</span><span class="nx">ReadVariable</span><span class="p">(</span><span class="s1">'velocity'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">gPower</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">gatey</span><span class="p">.</span><span class="nx">WriteVariable</span><span class="p">(</span><span class="s1">'power'</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">slideUpdate</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">gPower</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#slider_a"</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s2">"value"</span><span class="p">));</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'#slider_a'</span><span class="p">).</span><span class="nx">slider</span><span class="p">({</span>
        <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nx">slide</span><span class="o">:</span> <span class="nx">slideUpdate</span><span class="p">,</span> <span class="nx">change</span><span class="o">:</span> <span class="nx">slideUpdate</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'spaceship_trace'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">lastPos</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="nx">gPosition</span><span class="p">.</span><span class="nx">onChange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newPos</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">lastPos</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">lastPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">lastPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">newPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">newPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">(</span><span class="s1">'#position'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">newPos</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">lastPos</span> <span class="o">=</span> <span class="nx">newPos</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Libgatey maintained by <a href="https://github.com/tneukom">tneukom</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
